=== SUPABASE STORAGE ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé¸æŠã‚¬ã‚¤ãƒ‰ ===

ğŸ“‹ è¡¨ç¤ºã•ã‚Œã¦ã„ã‚‹ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ:

1. "Allow access to JPG images in a public folder to anonymous users"
   â†’ JPGç”»åƒ + publicãƒ•ã‚©ãƒ«ãƒ€ + åŒ¿åãƒ¦ãƒ¼ã‚¶ãƒ¼

2. "Give users access to only their own top level folder named as uid"
   â†’ ãƒ¦ãƒ¼ã‚¶ãƒ¼å›ºæœ‰ãƒ•ã‚©ãƒ«ãƒ€ + èªè¨¼æ¸ˆã¿ãƒ¦ãƒ¼ã‚¶ãƒ¼

3. "Give users access to a folder only to authenticated users"
   â†’ å…¨ãƒ•ã‚©ãƒ«ãƒ€ + èªè¨¼æ¸ˆã¿ãƒ¦ãƒ¼ã‚¶ãƒ¼

4. "Give access to a nested folder called admin/assets only to a specific user"
   â†’ ç‰¹å®šãƒ•ã‚©ãƒ«ãƒ€ + ç‰¹å®šãƒ¦ãƒ¼ã‚¶ãƒ¼

5. "Give access to a file to a user"
   â†’ ç‰¹å®šãƒ•ã‚¡ã‚¤ãƒ« + ç‰¹å®šãƒ¦ãƒ¼ã‚¶ãƒ¼

6. "Allow access to JPG images in a public folder to anonymous users"
   â†’ é‡è¤‡ï¼ˆåŒã˜ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆï¼‰

ğŸ¯ æœ€é©é¸æŠ: "Allow access to JPG images in a public folder to anonymous users"

ğŸ“‹ é¸æŠç†ç”±:
- âœ… JPGç”»åƒå¯¾å¿œï¼ˆå†™çœŸã¯ä¸»ã«JPGï¼‰
- âœ… åŒ¿åãƒ¦ãƒ¼ã‚¶ãƒ¼å¯¾å¿œï¼ˆé–‹ç™ºç”¨ã«æœ€é©ï¼‰
- âœ… ã‚·ãƒ³ãƒ—ãƒ«ã§ä¿®æ­£ã—ã‚„ã™ã„

ğŸ“‹ è¨­å®šå¾Œã®ä¿®æ­£:
1. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆé©ç”¨å¾Œã€ãƒãƒªã‚·ãƒ¼ã‚’ç·¨é›†
2. ãƒ•ã‚©ãƒ«ãƒ€åˆ¶é™ã‚’å‰Šé™¤ï¼ˆã¾ãŸã¯å¤‰æ›´ï¼‰:

å¤‰æ›´å‰:
AND LOWER((storage.foldername(name))[1]) = 'public'

å¤‰æ›´å¾Œ:
-- ãƒ•ã‚©ãƒ«ãƒ€åˆ¶é™ãªã—ï¼ˆãƒã‚±ãƒƒãƒˆå…¨ä½“ï¼‰
-- ã¾ãŸã¯ç‰¹å®šã®ãƒ•ã‚©ãƒ«ãƒ€ã«å¤‰æ›´

ğŸ“‹ æœ€çµ‚è¨­å®š:
- bucket_id = 'photos'
- storage.extension(name) = 'jpg'
- auth.role() = 'anon'  (åŒ¿åãƒ¦ãƒ¼ã‚¶ãƒ¼è¨±å¯)

=== è¨­å®šå®Œäº† ===
å†™çœŸã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ï¼
